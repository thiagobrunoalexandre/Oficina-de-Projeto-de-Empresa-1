@{
    @model Alge.Models.Carrinho;

    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.SearchBar = true;
    List<Produto> Produtos = (List<Produto>)ViewBag.produtos;

}
@using Alge.Models.Produto;


<div class="container">
    <div style="margin-bottom: 20px;" class="row">
        <div class="col-md-4 col-md-offset-4"><h2>Personalização</h2></div>
    </div>
        <div class="col-md-12 my-5">
            <div class="form-row">



                @foreach (Produto produto in Produtos)
                {
                <div class="form-group col-sm-8"> 
                    @using (Html.BeginForm())
                    {

                        <p class="form-text-view">Personalize seu produto</p>
                        @Html.Label("Quantidade")
                        @Html.TextBoxFor(model => model.quantidade_produto, new { @class = "form-control", placeholder = "Quantidade", @id="qtd", maxlength = "11"  })
                        @Html.ValidationMessageFor(model => model.quantidade_produto)
                        <br />
                        @Html.Label("Texto personalizado")
                        @Html.TextAreaFor(model => model.texto_personalizado, new { @class = "form-control", placeholder = "Texto", })
                        @Html.ValidationMessageFor(model => model.texto_personalizado)




                        <p style="font-size:30px; color:red">@ViewBag.Message</p>
                        <p>
                            <input style="max-width:300px;" type="submit" name="@produto.id_produto" value="Addcarrinho" class="form-control btn-outline-info" />
                        </p>


                    }
                    </div>

                <div class="form-group col-sm-4">



                    <h5 class="card-title">@produto.nome</h5>
                    <div class="card-body">

                        <img src="@produto.imagem" runat="server" style="max-width:200px; max-height:120px" />



                        <p>Cod: @produto.id_produto</p>
                        <p>@produto.descricao</p>
                        <p>@String.Format("R$ {0:N2}", @produto.preco)</p>
                        <p>Categoria @produto.categoria</p>



                    </div>



                </div>


            }




            </div>

        </div>
 </div>

   <script>


       $(document).ready(function () {
           $("#qtd").keyup(function () {
               $("#qtd").val(this.value.match(/[0-9]*/));
           });
       });
   </script>


